# SAPPDiscordBot

![Java](https://img.shields.io/badge/Java-17%2B-orange.svg)
![License](https://img.shields.io/badge/License-MIT-blue.svg)
![Halo Server Manager](https://img.shields.io/badge/Version-1.0.0-blue.svg)

A Java application that uses the [JDA API](https://github.com/discord-jda/JDA) to connect Halo SAPP server events to
Discord, providing real-time alerts, structured embeds, and a GUI interface for monitoring your servers.

---

## Preview

|                                                                         |                                                                         |
|-------------------------------------------------------------------------|-------------------------------------------------------------------------|
| <img src="https://imgur.com/neqrImQ.png" alt="Preview 1" width="300" /> | <img src="https://imgur.com/mk61022.png" alt="Preview 2" width="300" /> |
| <img src="https://imgur.com/aoJoIQb.png" alt="Preview 3" width="300" /> | <img src="https://imgur.com/idWJ4fl.png" alt="Preview 4" width="300" /> |

---

## Overview

SAPPDiscordBot listens for **server events** generated by
the [discord.lua](https://github.com/Chalwk/SAPPDiscordBot/releases/download/1.0.0/discord.lua), processes them, and
sends rich notifications to Discord. It supports **multiple servers**, offers a **GUI** for configuration, and is
optimized for performance.

---

## System Requirements

- Must have Java 17 installed.
  - For Windows users, you can
  download [Java 17 here](https://www.oracle.com/java/technologies/downloads/#jdk17-windows).
  - For Linux users, run this command in your terminal: `sudo apt install openjdk-17-jre-headless`

* 512MB RAM
* 50MB storage
* Windows or Linux
* Halo server running SAPP

---

### Download and Installation

**1.** Download the [latest release](https://github.com/Chalwk/SAPPDiscordBot/releases) from the repository

**2.** Download the [discord.lua](https://github.com/Chalwk/SAPPDiscordBot/releases/download/1.0.0/discord.lua) and
place it in the server *Lua folder*

**3.** Register an application on the [Discord Developer Portal](https://discord.com/developers/applications).

Follow these steps:

- Click **New Application**.
  Provide a name for your bot and click **create**.
- Click the **Bot** tab on the left-hand side menu.
  Set the bot's username and profile picture.
- Click **Reset Token** and then **Yes, do it!**.
  - **Save this token**, you will need it later. **Warning: Never share this token with anyone!**
  - Scroll down to **Privileged Gateway Intents**.
  - Enable **Presence Intent**, **Server Members Intent** and **Message Content Intent**.
- Click the **OAuth2** tab on the left-hand side menu.
  - Scroll down to the **OAuth2 URL Generator** section.
  - Under **Scopes**, select **bot**.
  - Under **Bot Permissions**, select **Administrator**
  - Copy the URL that gets generated and paste it into your browser.
- Select the server you want to add the bot to and click **Continue**.
  - Click **Authorize**.
  - Complete the captcha and click **Authorize**.
  - The bot should now be on your Discord server. Ensure the bot has the correct permissions.

**4.** Create a new folder in your Halo server's root directory called `discord_events`.

**5.** Launch `SAPPDiscordBot.exe` (or `SAPPDiscordBot.jar` on Linux)

- Enter the Discord Bot Token you saved earlier.
- Set your watch directory to the `discord_events` folder you created in step 4.
- Click **Save Configuration**
- Click the **Output Configuration** tab
- Select **Add Server** and enter the exact name of your server defined in init.txt (`sv_name` command in init.txt). A
  new tab will appear with the server name - click it.
- Set the **General**, **Chat** and **Command** Discord Channel IDs for this server, and repeat for each server you want
  to add.
- Click **Save Configuration**
- Click **Start Bot**

---

## Supported Event Types

| Category          | Events                                                  |
|-------------------|---------------------------------------------------------|
| Game Events       | event_start, event_end, event_map_reset                 |
| Player Events     | event_join, event_leave, event_spawn, event_team_switch |
| Chat and Commands | event_chat, event_command                               |
| Score Events      | event_score                                             |
| Death Events      | event_death                                             |
| Admin Events      | event_login, event_snap                                 |

## Technical Notes:

The `SAPPDiscordBot.exe / SAPPDiscordBot.jar` application will create a file called `sapp_bot_config.json` in the same directory as the
application. This file contains the configuration for the bot, including the Discord Bot Token, watch directory, and
server configurations.

---

## License

### [MIT License](https://github.com/Chalwk/SAPPDiscordBot/blob/main/LICENSE)

Â© 2025 SAPPDiscordBot. Jericho Crosby (Chalwk). All rights reserved.

---